
<ng-container *ngIf="value; else defaultView">
  <span *ngIf="!formula && !hint">{{ value }}</span>
  <span *ngIf="!formula && hint" [satPopoverAnchor]="popoverHint" satPopoverHover>{{ value }}</span>
  <span *ngIf="formula" [satPopoverAnchor]="popoverFormula" satPopoverHover>{{ value }}</span>
</ng-container>

<ng-template #defaultView>
  <span *ngIf="!formula && !hint">{{ name }}</span>
  <span *ngIf="!formula && hint" [satPopoverAnchor]="popoverHint" satPopoverHover>{{ name }}</span>
  <span *ngIf="formula" [satPopoverAnchor]="popoverFormula" satPopoverHover>{{ name }}</span>
</ng-template>

<sat-popover
  #popoverFormula
  horizontalAlign="center"
  verticalAlign="below"
  [autoFocus]="false"
  panelClass="popover"
  (afterOpen)="onAfterOpenFormulaPopover()"
  (afterClose)="onAfterCloseFormulaPopover()"
>
  <span [innerHTML]="formattedFormula"></span>
</sat-popover>

<sat-popover
  #popoverHint
  horizontalAlign="center"
  verticalAlign="below"
  [autoFocus]="false"
  panelClass="popover"
  (afterOpen)="onAfterOpenFormulaPopover()"
  (afterClose)="onAfterCloseFormulaPopover()"
>
  <span [innerHTML]="hint"></span>
</sat-popover>
